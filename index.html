<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lifetime Freight ‚Äî Zero Resistance Shipping</title>
<style>
  body {
    font-family: system-ui, sans-serif;
    margin: 0;
    padding: 0;
    background: #f8f8f8;
    color: #222;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  #app {
    width: 100%;
    max-width: 480px;
    padding: 20px;
    box-shadow: 0 0 12px rgba(0,0,0,0.1);
    border-radius: 8px;
    background: white;
    text-align: center;
  }
  h1 {
    font-weight: 600;
    margin-bottom: 0.5rem;
  }
  .desc { font-size: 0.9rem; margin-bottom: 1rem; color: #666; }
  .qr img { width: 200px; height: 200px; margin: 10px auto; }
  input, button {
    width: 100%;
    padding: 10px;
    font-size: 1rem;
    margin: 5px 0;
    border: 1px solid #ccc;
    border-radius: 5px;
  }
  button {
    background: #0078ff;
    color: white;
    border: none;
    cursor: pointer;
  }
  button:hover { background: #005fcc; }
  .hidden { display: none; }
</style>
</head>
<body>
<div id="app">
  <h1>Lifetime Freight</h1>
  <div id="mobile" class="hidden">
    <p class="desc">üì¶ Create or scan a shipment ticket.</p>
    <input id="ticketID" placeholder="Enter Ticket ID or Scan QR" />
    <button onclick="submitTicket()">Submit</button>
    <div id="result"></div>
  </div>
  <div id="desktop" class="hidden">
    <p class="desc">üñ•Ô∏è Kiosk Mode: display ticket QR for mobile pickup.</p>
    <button onclick="generateTicket()">Generate Ticket QR</button>
    <div id="qrDisplay" class="qr"></div>
  </div>
</div>

<script>
// device detection
const isMobile = /Mobi|Android/i.test(navigator.userAgent);
document.getElementById(isMobile ? 'mobile' : 'desktop').classList.remove('hidden');

// generate QR for kiosk view
async function generateTicket(){
  const ticketID = 'TCK_' + Math.floor(Math.random()*999999);
  const otp = Math.floor(100000 + Math.random() * 900000);
  const qrPayload = JSON.stringify({ ticketID, otp });
  const qrURL = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(qrPayload)}&size=200x200`;
  document.getElementById('qrDisplay').innerHTML = `
    <h3>Ticket: ${ticketID}</h3>
    <p>OTP: ${otp}</p>
    <img src="${qrURL}" alt="QR Code">
  `;
}

// mobile data entry
function submitTicket(){
  const ticketID = document.getElementById('ticketID').value.trim();
  if(!ticketID){ alert("Enter or scan a ticket ID"); return; }
  const result = document.getElementById('result');
  result.innerHTML = `<p>‚úÖ Ticket ${ticketID} submitted.</p>`;
  setTimeout(()=>{ result.innerHTML = `<p>Locker Ready ‚Äî Scan QR at kiosk.</p>`; }, 1500);
}
</script>
</body>
</html>